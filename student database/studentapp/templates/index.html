{% extends "layout.html" %}
{% block content %}
   <div class="container-fluid mb-3">
        <div class="container-fluid home-view-tools p-3 pt-2">
             <div class>
            {% with messages = get_flashed_messages(with_categories=true) %}
    				{% if messages %}
    					{% for category, message in messages %}
    						<div class = "alert alert-{{ category }}">
    							{{ message }}
    						</div>
    					{% endfor %}
    				{% endif %}
    			{% endwith %}
          </div>

          {% if students %}

          <div class="dropdown m-3 mb-4">
            <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Arrange by
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="{{ url_for('home', fltr = 'id') }}">I.D Number</a>
              <a class="dropdown-item" href="{{ url_for('home', fltr = 'lname') }}">Last Name</a>
              <a class="dropdown-item" href="{{ url_for('home', fltr = 'course') }}">Course</a>
            </div>
          </div>


          <div class="container-fluid">
            <div class="row">
              <div class="col-12">

                <table class="table table-bordered">
                  <thead>
                    <tr>
                      <th scope="col">ID Number</th>
                      <th scope="col">First Name</th>
                      <th scope="col">Last Name</th>
                      <th scope="col">Course</th>
                      <th scope="col">Actions</th>
                    </tr>
                  </thead>
                  <tbody>

                  {% for student in students %}
                    <tr>
                      <th scope="row">{{ student[0] }}</th>
                      <td>{{ student[1] }}</td>
                      <td>{{ student[2] }}</td>
                      <td>{{ student[3] }}</td>
                      <td>
                          <a href="{{ url_for('update', id_number = student[0])}}#form" class="btn btn-info mr-2"> View Data </a>
                      </td>
                    </tr>
                  {% endfor %}
                  </tbody>
                </table>

              </div>
            </div>
          </div>
            {%else%}
            <div class="row">
                <div class="col">
                    <h1 class="display-4 font-weight-light">No Students to View</h1>
                </div>
                <div class="col-2">
                    <a href="{{ url_for('register') }}#form" class="btn btn-primary mt-3"> Add New Student </a>
                </div>
            </div>
            {% endif %}
        </div>
      </div>
{% endblock content %}